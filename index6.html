<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" type="text/css" href="http://www.quantisan.com/theme/css/style.css">
    <link rel="stylesheet" type="text/css" href="http://www.quantisan.com/theme/css/pygments.css">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:800,400,300|Inconsolata' rel='stylesheet' type='text/css'>
	<link href="http://www.quantisan.com/" type="application/atom+xml" rel="alternate" title="Quantitative Artisan ATOM Feed" />


        <title>Quantitative Artisan</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Paul Lam">
</head>

<body>
    <section id="navbar">
        <div class="user_meta">
            <h1 id="user"><a href="http://www.quantisan.com" class="">Paul Lam</a></h1>
            <h2>Data. Engineering. Startup.</h2>
        </div>
        <div class="nav-button">
            <ul>
                                    <li><a href="http://www.quantisan.com/about/">About</a></li>
                            <li><a href="mailto:paul@quantisan.com">Email</a></li>
                            <li><a href="http://www.twitter.com/Quantisan">Twitter</a></li>
                            <li><a href="http://www.github.com/Quantisan">Github</a></li>
                            <li><a href="http://www.linkedin.com/in/paullam">LinkedIn</a></li>
                            <li><a href="http://feeds.feedburner.com/Quantisan">Subscribe</a></li>
             </ul>
         </div>
     </section>

     <section id="sidebar">
        <img src="/images/profile_circle.png" id="logo" alt="logo">

        <div class="user_meta">
            <h1 id="user"><a href="http://www.quantisan.com" class="">Paul Lam</a></h1>
            <h2>Data. Engineering. Startup.</h2>
            <ul>
                        <li><a href="http://www.quantisan.com/about/">About</a></li>
                        <li><a href="mailto:paul@quantisan.com">Email</a></li>
                        <li><a href="http://www.twitter.com/Quantisan">Twitter</a></li>
                        <li><a href="http://www.github.com/Quantisan">Github</a></li>
                        <li><a href="http://www.linkedin.com/in/paullam">LinkedIn</a></li>
                        <li><a href="http://feeds.feedburner.com/Quantisan">Subscribe</a></li>
            </ul>
        </div>
        <footer>
            <address>
                Powered by <a href='http://docs.getpelican.com/en/latest/'>Pelican</a>,
                <a href='https://github.com/jamescooke/pelican-svbtle#readme'>theme info</a>.
            </address>
        </footer>
    </section>

    <section id="posts">
	
        <article class='listed'>
            <h1 class="title">
                <a href="http://www.quantisan.com/cascalog-checkpoint-fault-tolerant-mapreduce-topologies/" rel='bookmark'>Cascalog-checkpoint: Fault-tolerant MapReduce Topologies</a>
            </h1>
            <div class="article-content"> <p>
Cascalog is an abstraction library on top of Cascading [for writing
MapReduce jobs][]. Since the Cascalog library is maturing, the Twitter
guys (core committers) have been building features around it so that
it's not just an abstraction for Cascading. One of which is
[Cascalog-checkpoint][]. It is a small, easy-to-use, and very powerful
little add-on for Cascalog. In particular, it enables fault-tolerant
MapReduce topologies. Building Cascading/Cascalog queries can be
visualised as assembling pipes to connect a flow of data. Imagine that
you have Flow A and B. Flow B uses the result from A along with other
bits. Thus, Flow B is dependent on A. Typically, if a MapReduce job fail
for whatever reason, you simply fix what's wrong and start the job all
over again. But what if Flow A takes hours to run (which is common for a
MR job) and the error happened in Flow B? Why re-do all that processing
for Flow A if we know that it finished successfully? By using
Cascalog-checkpoint, you can *stage* intermediate results (e.g. result
of Flow A) and failed jobs can automatically pickup from the last
checked point. An obvious thing to do but not something I've seen done
in Hadoop. At least not as easy as this:
<script src="https://gist.github.com/1915638.js?file=ccl-checkpoint-sample1.clj"></script>
See [Sam Ritchie's post on cascalog-checkpoint][] for more examples. Of
course, you need to coerce your flows such that output from Flow A can
be read by Flow B. However, this is almost trivial via
Cascalog/Cascading. As this notion of mix and match pipes and flows is a
fundamental concept in Cascalog/Cascading. With so many choices of
abstraction frameworks for coding MapReduce on Hadoop, I feel sorry for
anyone using vanilla Java for writing MapReduce besides the most
simplest or recurring jobs.
</p> </div>
            <div class="abbr published">
                Posted  <a href='http://www.quantisan.com/cascalog-checkpoint-fault-tolerant-mapreduce-topologies/' title='2012-02-26T09:38:00'>26 February 2012</a> in <a href="http://www.quantisan.com/category/computing/">computing</a>.              
            </div>
        </article>
        <article class='listed'>
            <h1 class="title">
                <a href="http://www.quantisan.com/a-weather-station-data-scrapper-in-r/" rel='bookmark'>A weather station data scrapper in R</a>
            </h1>
            <div class="article-content"> <p>
This R code scrape publicly available weather station data given a
weather station ID and a date range. I patched an existing source code
from UC Davis so it's not my original code. Thought I'd share it here
anyway. It doesn't fail safely though because a null return value would
break the fetching loop.
<script src="https://gist.github.com/1808134.js"> </script>
</p> </div>
            <div class="abbr published">
                Posted  <a href='http://www.quantisan.com/a-weather-station-data-scrapper-in-r/' title='2012-02-12T11:49:00'>12 February 2012</a> in <a href="http://www.quantisan.com/category/data-science/">data-science</a>.              
            </div>
        </article>
        <article class='listed'>
            <h1 class="title">
                <a href="http://www.quantisan.com/my-5-minute-lightning-talk-on-cascalog/" rel='bookmark'>My 5 minute lightning talk on Cascalog</a>
            </h1>
            <div class="article-content"> <p>Cascalog makes it a lot simpler to build distributed strategy
backtesters on terabytes of market data, for example. It is a data
processing library for building MapReduce jobs. I've been spiking out a
data processing project with it at work for the past couple of weeks. So
I thought I might as well give a lightning talk about it at our monthly
developers meetup. Here are my presentation slides introducing Cascalog
and outlining its features.</p>
<iframe src="https://docs.google.com/present/embed?id=dgmktdkb_11m4xh8dgn&amp;size=m" frameborder="0" width="555" height="451"></iframe>

<p>The possibilities...</p> </div>
            <div class="abbr published">
                Posted  <a href='http://www.quantisan.com/my-5-minute-lightning-talk-on-cascalog/' title='2012-02-05T18:39:00'>05 February 2012</a> in <a href="http://www.quantisan.com/category/computing/">computing</a>.              
            </div>
        </article>
        <article class='listed'>
            <h1 class="title">
                <a href="http://www.quantisan.com/ask-not-what-accuracy-your-algorithm-achieves-but-what-value-it-can-add/" rel='bookmark'>Ask not what accuracy your algorithm achieves but what value it can add</a>
            </h1>
            <div class="article-content"> <p>Partnering with the marketing team at work earlier this month reminded
me of an important lesson in my algorithmic trading. Our  external TV
agency presented a mid-term performance analysis and I was tasked with
performing due diligence on their analysis methodology. It took me 2
minutes to realise that they were using a linear regression model. At
first I thought it was too simplistic. Then I realised my own naivete
because it was never about accuracy to begin with. Measuring ROI on a
marketing campaign is an illusive task. A quick metric is to perform a
regression on the money you spent versus the revenue generated in the
same time period. For example, let y(t) = x(t), where y represents
revenue, x is marketing spending, and t is day. Plot your data on y
versus x for a number of days. Then draw a best fit straight line to
graphically show a correlation. If you're feeling adventurous, throw in
a few other factors that you think might have important influence on
your daily revenue. Such that you have x2(t), x3(t), etc. This is what
the agency did in their model. One major flaw with using a regression
model for this purpose is that it assumes each data point is mutually
exclusive to another. So a day's event does not influence another. This
is simply not true in the real world. For examples, it might take a few
days after someone sees your ad until they click your buy button or it
might take more than a few showing of the ads until people take action.
A better regression model for the first example is y(t) = x1(t - a),
where 'a' is the delay. And for the second example, y(t) = ∑x1(t - A),
where A is a vector of 'a'. The problem with this is that finding 'a'
and 'A' is another regression problem in and of itself. Luckily, this is
conceptually what an Artificial Neural Network does, a series of
regression models taking into account the interrelation of the factors
and non-linear effects of the response. And so, within the span of a few
minutes of our conference call with them, I've just convinced myself in
my mind to try another algorithm when I have a chance. That weekend I
wasted a few hours on R tinkering with the data. Then it finally dawned
on me. What is the value of this? To calculate an ROI figure on our
marketing campaign, is it necessary to spike a machine learning project
just so we can be 95% confident on that figure? The justification is
further weakened by the fact that ROI is merely one of the many metrics
available when <a href="https://en.wikipedia.org/wiki/Marketing_performance_measurement_and_management">evaluating a marketing campaign</a>. So the impact of an
accurate model versus a throw in the dart might not be worth spending an
extra two weeks working on it whereas a throwing a dart takes only one
command in R.</p> </div>
            <div class="abbr published">
                Posted  <a href='http://www.quantisan.com/ask-not-what-accuracy-your-algorithm-achieves-but-what-value-it-can-add/' title='2012-01-29T11:56:00'>29 January 2012</a> in <a href="http://www.quantisan.com/category/data-science/">data-science</a>.              
            </div>
        </article>
<p class="paginator">
		        <a href="http://www.quantisan.com/index5.html" class="button_accent">&larr;&nbsp;&nbsp;&nbsp;newer</a>

                    <a href="http://www.quantisan.com/index7.html" class="button_accent" style="position: absolute; right: 0;">continue&nbsp;&nbsp;&nbsp;&rarr;</a>
</p>
    </section>

<script type="text/javascript">
	var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
	</script>
	<script type="text/javascript">
		try {
			var pageTracker = _gat._getTracker("UA-2047602-4");
			pageTracker._trackPageview();
		} catch(err) {}</script>
</body>
</html>