<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" type="text/css" href="http://www.quantisan.com/theme/css/style.css"> 
    <link rel="stylesheet" type="text/css" href="http://www.quantisan.com/theme/css/pygments.css">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:800,400,300|Inconsolata' rel='stylesheet' type='text/css'>
	<link href="http://www.quantisan.com/" type="application/atom+xml" rel="alternate" title="Quantitative Artisan ATOM Feed" />


        <title>Quantitative Artisan</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Paul Lam">
</head>

<body>
    <section id="navbar">
        <div class="user_meta">
            <h1 id="user"><a href="http://www.quantisan.com" class="">Paul Lam</a></h1>
            <h2>Data. Engineering. Startup.</h2>
        </div>
        <div class="nav-button">
            <ul>
                                    <li><a href="http://www.quantisan.com/about/">About</a></li>
                            <li><a href="mailto:paul@quantisan.com">Email</a></li>
                            <li><a href="http://www.twitter.com/Quantisan">Twitter</a></li>
                            <li><a href="http://www.github.com/Quantisan">Github</a></li>
                            <li><a href="http://www.linkedin.com/in/paullam">LinkedIn</a></li>
                            <li><a href="http://feeds.feedburner.com/Quantisan">Subscribe</a></li>
             </ul>
         </div>
     </section>

     <section id="sidebar">
        <div class="user_meta">
            <h1 id="user"><a href="http://www.quantisan.com" class="">Paul Lam</a></h1>
            <h2>Data. Engineering. Startup.</h2>
            <ul>
                        <li><a href="http://www.quantisan.com/about/">About</a></li>
                        <li><a href="mailto:paul@quantisan.com">Email</a></li>
                        <li><a href="http://www.twitter.com/Quantisan">Twitter</a></li>
                        <li><a href="http://www.github.com/Quantisan">Github</a></li>
                        <li><a href="http://www.linkedin.com/in/paullam">LinkedIn</a></li>
                        <li><a href="http://feeds.feedburner.com/Quantisan">Subscribe</a></li>
            </ul>
        </div>
        <footer>
            <address>
                Powered by <a href='http://docs.getpelican.com/en/latest/'>Pelican</a>,
                <a href='https://github.com/jamescooke/pelican-svbtle#readme'>theme info</a>.
            </address>
        </footer>
    </section>

    <section id="posts">
	
        <article class='listed'>
            <h1 class="title">
                <a href="http://www.quantisan.com/forex-trading-income-or-capital-gain-tax-in-canada/" rel='bookmark'>Forex Trading:  Income or Capital Gain Tax in Canada?</a>
            </h1>
            <div class="article-content"> <p>I've always known that foreign exchange trading is treated as capital
gain tax in Canada. But just to be sure before filing my taxes soon,
I've decided to double check the facts from Canada Revenue Agency. As
you know, the difference between income tax and capital gain tax is
substantial. Income tax is taxed at your marginal tax rate. Whereas
capital gain tax is a generous half of your marginal tax rate. That
works out to a 10% to 20% difference. Taxes in Canada is generally
simple to do. The problem though, is sifting through the cacophony of
information within the Canada Revenue Agency to find out the applicable
rules. I've copy and pasted a couple of relevant excerpts from the 2010
CRA <a href="http://www.cra-arc.gc.ca/menu/ITSC-e.html">Income Tax Interpretation Bulletin</a> for the record. Basically,
forex trading can be treated as either income or capital gain tax in
Canada (surprise). According to <a href="http://www.cra-arc.gc.ca/E/pub/tp/it95r/it95r-e.html">IT-95R Foreign exchange gains and
losses</a>.</p>
<blockquote>
<ol>
<li>Where it can be determined that a gain or loss on foreign exchange
arose as a direct consequence of the purchase or sale of goods abroad,
or the rendering of services abroad, and such goods or services are
used in the <strong>business operations</strong> of the taxpayer, such gain or loss
is brought into income account. If, on the other hand, it can be
determined that a gain or loss on foreign exchange arose as a direct
consequence of the<strong>purchase or sale of capital assets</strong>, this gain or
loss is either a capital gain or capital loss, as the case may be.
Generally, the nature of a foreign exchange gain or loss is <strong>not
affected by the length of time</strong> between the date the property is
acquired (or disposed of) and the date upon which payment (or receipt)
is effected.</li>
</ol>
</blockquote>
<p>As you can see, it is very vague. That's why forex trading can be
considered income or capital gain tax. It is up to you and your
accountant to figure out which works for you. A noteworthy point in the
above excerpt is that the holding period is not taken into account.
<span style="text-decoration: line-through;">So there's no 30-day rule
like in the states whereby frequent trading would miss out the capital
loss credit if they re-purchase the same asset within 30-day of
disposal.</span> Update: Looks like I have misconstrued the above
article with regard to capital loss. As Olga pointed out in the
comments, Chapter 5 of T4037 defines <em>Superficial Loss</em>. In which if you
<em>repurchase</em> your property (e.g. stock) within 30-days after a sale at a
loss, then that initial loss cannot be deducted as a capital loss. More
about the <a href="http://www.wheredoesallmymoneygo.com/superficial-loss-rules-in-canada/">Superficial Loss rules in Canada</a> can be found at
WhereDoesAllMyMoneyGo.com. Further down the page in IT-95R, we have the
following bullet.</p>
<blockquote>
<ol>
<li>A taxpayer who has transactions in foreign currency or foreign
currency futures that do not form part of business operations, or are
merely the result of sundry dispositions of foreign currency by an
individual, will be accorded by the Department the <strong>same treatment as
that of a "speculator" in commodity futures</strong> see 7 and 8 or IT-346R.
However, if such a taxpayer has special "Inside" information
concerning foreign exchange, he will be required to report his gains
and losses on income account.</li>
</ol>
</blockquote>
<p><a href="http://www.cra-arc.gc.ca/E/pub/tp/it346r/it346r-e.html">IT-346R Commodity Futures and Certain Commodities</a> explains the tax
treatment of speculation in the commodity markets.</p>
<blockquote>
<ol>
<li>As a general rule, it is acceptable for speculators to report all
their gains and losses from transactions in commodity futures or in
commodities as<strong>capital gains and losses</strong> with the result that only
one-half the gain is taxable, and one-half the loss is allowable
subject to certain restrictions, (hereinafter called "capital
treatment") provided such reporting is followed consistently from year
to year.</li>
</ol>
</blockquote>
<p>So there, we have it. Amateur forex traders, such as myself, can report
our forex trading gain/loss as capital gains and losses. The reason
being that <a href="http://www.quantisan.com/category/forex">forex trading</a> isn't part of my business operation because
I have another primary source of income (e.g. salary from another job).</p> </div>
            <div class="abbr published">
                Posted  <a href='http://www.quantisan.com/forex-trading-income-or-capital-gain-tax-in-canada/' title='2010-03-08T10:29:00'>08 March 2010</a> in <a href="http://www.quantisan.com/category/forex/">forex</a>.              
            </div>
        </article>
        <article class='listed'>
            <h1 class="title">
                <a href="http://www.quantisan.com/another-reason-against-stocking-into-a-registered-trading-account-this-year/" rel='bookmark'>Another reason against stocking into a registered trading account this year</a>
            </h1>
            <div class="article-content"> <p>There's another reason why I am so <a href="http://www.quantisan.com/is-a-5000-questrade-tfsa-trading-account-cost-effective-part-1/">reluctant to put money into a TFSA
trading account</a> to invest in Canadian stocks. As you know, in a
registered trading account, such as a RRSP self-directed trading account
or a <a href="http://www.quantisan.com/questrade/">Questrade TFSA trading account</a> (aff), you cannot short shares
and can only buy because you can't trade on margin. As such, a
registered trading account is an account for buy-only trading. It
doesn't take a genius to figure out that a buy-only trading strategy is
best used ... in a bull market. As trading wisdom goes, trade with the
trend. So the question is, are we in a bull market in 2010? Figures 1
and 2 shows the weekly chart of TSX Index and the TSX Venture Index,
respectively. Referring to Fig. 1, TSX is bumping up against some
headwind at a 12,000 resistance. Unless TSX can stay above 12,000
cleanly (a weekly low above that level at least), I am still bearish in
the market because that financial crisis back in 2008 (<a href="http://www.quantisan.com/another-breakdown-of-a-major-multi-year-support-are-we-going-down-and-i-mean-really-down/">remember those
days</a>?) is still overshadowing long term prices and trader sentiments.</p>
<p>[caption id="" align="aligncenter" width="570" caption="TSX,
weekly"][<img alt="" src="http://www.quantisan.com/static/images/img_archive/2010-03-04-TSX_wk.png" />][][/caption] TSX Venture is depressed even more as seen
in Figure 2 below. Just look at the huge gap from current price to the
200 week moving average (red line). This isn't a good sign as lack of
interest in high-risk stocks means traders are generally cautious. Yes,
it's true that the equity market has been running up, up, and up for a
good year. However, the fact that TSX is sitting at the same level as in
2001 proves that the long term, multi-year bull market has been cleanly
broken. We might very well see pockets of multi-month rallies
materialize (like we're seeing now), but unless proven otherwise, the
long term trend is not looking green for the markets. It will not be
easy money in the stock market like back in the pre-tech bubble 1990's.
As opined by Bill Cara, the <a href="http://www.caracommunity.com/">time for buy-and-hold is gone</a>. It is
well known in the community that the coming years will be volatile with
big ups and downs. That is my little secret for moving to <a href="http://www.quantisan.com/category/forex/">trade
forex</a>last year and the main reason why I am reluctant to set aside
money on a one-sided stock trading account. [caption id=""
align="aligncenter" width="570" caption="TSX Venture,
weekly"][<img alt="" src="http://www.quantisan.com/static/images/img_archive/2010-03-04-CDNX_wk.png" />]<a href="http://www.quantisan.com/static/images/img_archive/2010-03-04-CDNX_wk.png">1</a>[/caption]</p>
</p> </div>
            <div class="abbr published">
                Posted  <a href='http://www.quantisan.com/another-reason-against-stocking-into-a-registered-trading-account-this-year/' title='2010-03-05T07:32:00'>05 March 2010</a> in <a href="http://www.quantisan.com/category/stocks/">stocks</a>.              
            </div>
        </article>
        <article class='listed'>
            <h1 class="title">
                <a href="http://www.quantisan.com/first-look-at-google-app-engine-for-automated-trading-and-quant-analysis-on-the-cloud/" rel='bookmark'>First look at Google App Engine for automated trading and quant analysis on the cloud</a>
            </h1>
            <div class="article-content"> <p>I just spent the last few hours looking into Google App Engine to use it
for trading. Google App Engine (GAE) is a cloud computing development
and hosting platform for web applications. GAE is similar to the
well-known Amazon EC2 service but it is also very different. The main
difference between GAE and EC2 is that GAE is not as flexible as EC2 but
it is a lot easier to develop on. Think of it like using C++ (EC2) to
write your own trading platform to using EasyLanguage on TradeStation or
MQL on Metatrader (GAE). Another advantage for using Google App Engine
is that it is free! Well, to a certain extent. It is free for a limited
monthly usage. However, Google's free quota is known to be very generous
(think Gmail) and this is no exception. Based on the numbers, it looks
comparable to a typical \$20/month virtual private server (VPS) hosting
package. My guess is that you can run a decent personal quant program on
it if you keep the resources for yourself (private use). For more
information on the free quota, you can read the <a href="http://code.google.com/appengine/docs/quotas.html">current GAE quota</a>
web page or the <a href="http://en.wikipedia.org/wiki/Google_App_Engine">Wikipedia page for GAE</a>. You might be wondering how
did I spend a few hours just reading on GAE? The answer is that I've
done a brief research, planning, and assessment to see how GAE can be
put to use in terms of quantitative analysis for automated and
discretionary trading. Without going through all of my notes and logic,
here's the gist of my conclusion.</p>
<h2>For Automated Trading</h2>
<p>Since GAE is also a SDK, it has a restricted programming API. You can't
just plug in any custom library of your own (i.e. your broker's API)
into your program. That is its advantage and its disadvantage.
Furthermore, GAE only support HTTP and HTTPS. So you can't open a socket
for your connection either. These limitations won't be changing anytime
soon as GAE is designed to be like that for security reasons. Basically,
there's no way for your web application on GAE to connect with your
broker for trading. So much for that idea.</p>
<h2>For Discretionary Trading</h2>
<p>Things look brighter for discretionary trading though. A big bonus with
using Google App Engine is that it supports the Google Finance API.
Google Finance offers free real-time stock quotes. Combine it with the
programming capability of the Google App Engine and you have yourself a
free number cruncher in the cloud. However, GAE is definitely no match
for your personal computer, so why would you go through all that
trouble? One possible scenario in which this could be useful is for
traders that is often on the road or traders such as myself in which we
have a day job. In that case, you can set you quant analytics on GAE as
a private web application and then you can access it as a web page
anywhere on your mobile phone. One of the obvious limitation with using
GAE is that it has limited features for scientific computing. For
example, it doesn't support Numpy in the Python SDK. As such, I can't
imagine using GAE for anything more than simple technical analysis for
now. I certainly hope that GAE can include more powerful scientific
computing capabilities in the near future. Until then, I really can't
see Google App Engine offering much help aside from performing
algorithmic tasks to help with your trading analysis. Their open issues
log does announce that <a href="http://code.google.com/p/googleappengine/issues/detail?id=190">Numpy is being integrated into GAE</a> though. So
that's a great sign for things to come! I am very hopeful of GAE's
potential as a free cloud server to host my quant analytics on. We'll
just have to wait for now.</p>
</p> </div>
            <div class="abbr published">
                Posted  <a href='http://www.quantisan.com/first-look-at-google-app-engine-for-automated-trading-and-quant-analysis-on-the-cloud/' title='2010-03-03T21:19:00'>03 March 2010</a> in <a href="http://www.quantisan.com/category/algorithmic-trading/">algorithmic-trading</a>.              
            </div>
        </article>
        <article class='listed'>
            <h1 class="title">
                <a href="http://www.quantisan.com/february-2010-trading-performance-review/" rel='bookmark'>February 2010 Trading Performance Review</a>
            </h1>
            <div class="article-content"> <p>I barely traded this month. The total number of trades in February for
my forex demo account is ten. That's far from my regular 150 - 250
trades a month. Ever since my trading system was broken because of
technical difficulties, I've <a href="http://www.quantisan.com/what-to-do-when-life-gets-in-your-way-of-trading/">changed my priorities</a> in trading. I
spent most of my time in February learning a new programming language to
ramp up my quant and automated trading projects. I also tried a few
longer term trades this month. The results haven't been uplifting. I am
about breakeven by the end of the month with a net gain of .... \$2 in a
\$5550 demo account. As you can see, there's really not much point in me
continuing paper trading at this stage. It is taking valuable time away
from me to fix what's broken so that I can use my previously profitable
trading system again. As such, I'm going to put near 100% of my effort
to program a semi-automated trading system for the coming weeks, or
probably months. On another note. Seeing that it is tax season here in
Canada. I thought about my tax situation and considered <a href="http://www.quantisan.com/questrade/">opening a
Questrade TFSA trading account</a> (affiliate link) to legitimately
<a href="http://www.quantisan.com/not-pay-trading-income-taxes-through-a-tfsa-trading-account/">avoid income taxes from trading</a>. But after considering the <a href="http://www.quantisan.com/is-a-5000-questrade-tfsa-trading-account-cost-effective-part-1/">cost and
benefit</a> of such a move, I concluded that <a href="http://www.quantisan.com/is-a-5000-questrade-tfsa-trading-account-cost-effective-%e2%80%93-part-4/">a TFSA trading account
isn't cost effective for me</a> at the moment. As I've spent most of the
month doing backend work, there isn't very much to review for my trading
this month. So let's just dive right into my statistics for the record.</p>
<h2>Performance Statistics</h2>
<p><strong>Monthly Metric February (January)</strong> Sarting Fund \$5,550.02 End of
Month Fund \$5,551.99 Total Net Profit \$1.97 (-\$67.42) Gross Profit
\$37 (\$375) Gross Loss -\$35 (-\$442) Profit Factor 1.06 (0.85) Net
Profit % 0.04% (-1.20%) Max. Drawdown % 0.50% (3.95%) Sterling Ratio
0.00 (-0.15) Excess Return -0.02% (-1.26%) SDev Return per Trade 0.15%
(0.11%) Kurtosis -1.36 (1.85) Skewness 0.79 (1.01) With only ten trades
this month, I don't have enough samples to make meaningful calculations
for the above statistics. 95th Percentile P&amp;L \$12.55 (\$12.23) 5th
Percentile P&amp;L -\$6.60 (-\$8.43) Net Profit Mid 90% Only -\$4.75
(-\$117.84) Interestingly, I noticed that my typical top and bottom 5th
percentile profit/loss are quite consistent. Total # of Trades 10 (186)
Percent Profitable 40.00% (41.45%) # of Winning Trades 4 (63) # of
Losing Trades 6 (89) # of Break-even Trades 0 (34) My percent
profitable trades seem to be near 40% month to month. That's good to
know as it's useful to calculate my statistical return expectancy as
I've done in my <a href="http://www.quantisan.com/is-a-5000-questrade-tfsa-trading-account-cost-effective-%e2%80%93-part-3/">TFSA trading cost-benefit analysis</a>. Average Trade
Profit % 0.00% (-0.01%) Average Winning % 0.17% (0.11%) Average Losing %
-0.11% (-0.09%) Ratio Win% / Loss% 1.59 (1.20) By being more
discriminating in my trades, I've effectively increased my win/loss
ratio. That's good. Max. Conseq. Winners 3 (8) Max. Conseq. Losers 5
(20) Largest Winning Trade \$13.81 (\$22.66) Largest Losing Trade
-\$7.08 (-\$14.30) Avg. Time Held [hrs] 1.67 (0.73) Avg. max. unrealized
profit/ Realized profit (11.59)</p>
<h2>Goal for March</h2>
<p>My goal from January is <a href="http://www.quantisan.com/january-2010-trading-performance-review/">to learn MQL4</a>. I changed my plan since then
due <a href="http://www.quantisan.com/why-i-am-not-a-big-fan-of-mql4-or-trading-platform-scripting/">my lack of faith with using a proprietary scripting language</a>. I
learned Python programming this month and is now learning to use
specialized libraries to serve my trading needs. My goal for March is to
write a rudimentary data analysis and visualization program for
historical forex data.</p>
</p> </div>
            <div class="abbr published">
                Posted  <a href='http://www.quantisan.com/february-2010-trading-performance-review/' title='2010-03-02T08:14:00'>02 March 2010</a> in <a href="http://www.quantisan.com/category/trading/">trading</a>.              
            </div>
        </article>
        <article class='listed'>
            <h1 class="title">
                <a href="http://www.quantisan.com/40-monitors-6-computers-1-day-trader/" rel='bookmark'>40 monitors, 6 computers, 1 day trader</a>
            </h1>
            <div class="article-content"> <p>I'm still recuperating from my food poisoning from last week. Meanwhile, I came across this unbelievable <a href="http://lifehacker.com/5481921/the-day-traders-paradise">trading workspace showcase</a> from LifeHacker.</p>
<p><img alt="40 monitors trading workspace" src="/images/img_archive/40montradingdesk.jpg" /></p>
<p>I have no idea how this trader can juggle 40 monitors during his day
trading. I am satisfied with just one 24" monitor on my desk. However,
I'm neither a day trader or a professional trader, so perhaps I'm
missing something?</p>
<p>What do you think of this 40 monitors setup? A dream come true or a
charts nightmare?</p> </div>
            <div class="abbr published">
                Posted  <a href='http://www.quantisan.com/40-monitors-6-computers-1-day-trader/' title='2010-03-01T10:06:00'>01 March 2010</a> in <a href="http://www.quantisan.com/category/journal/">journal</a>.              
            </div>
        </article>
        <article class='listed'>
            <h1 class="title">
                <a href="http://www.quantisan.com/is-a-5000-questrade-tfsa-trading-account-cost-effective-part-4/" rel='bookmark'>Is a $5000 Questrade TFSA trading account cost effective? Part 4</a>
            </h1>
            <div class="article-content"> <p>Alright, so I'm <a href="http://www.quantisan.com/my-first-food-poisoning-experience/">back from the dead</a>. Let's finish this cost-benefit
analysis before the weekend. Here are back links for <a href="http://www.quantisan.com/is-a-5000-questrade-tfsa-trading-account-cost-effective-part-1/">Part 1</a>, <a href="http://www.quantisan.com/is-a-5000-questrade-tfsa-trading-account-cost-effective-%e2%80%93-part-2/">Part
2</a>, <a href="http://www.quantisan.com/is-a-5000-questrade-tfsa-trading-account-cost-effective-%e2%80%93-part-3/">Part 3</a> in case you missed them. The table below shows my
expected return as derived through part 2 and part 3 of this series. As
you can see, I'm only expected to break-even by risking 1% of my \$5000
TFSA trading account. Trading just for the sake of break-even isn't
exactly an enviable goal. Based on my statistics, I typically say an
expected return of 0.10% per trade is acceptable. Looking at the table,
that would require that I risk 1.5% per trade. [caption id=""
align="aligncenter" width="570" caption="TFSA Trading Cost-Benefit for
Reward/Risk = 2.0 and 40% win rate"][<img alt="" src="http://www.quantisan.com/static/images/img_archive/TFSA_trading_cost-benefit_analysis.png" />][][/caption] So I'll have to
risk 1.5% just to scrape in 0.10% of profit? The problem is obvious.
Using a \$5000 trading account with \$5 commission, along with my
historical trading performance simply do not justify the odds. I started
this series to study the cost effectiveness of a Questrade TFSA trading
account. But the conclusion which I derived is much broader. Considering
that even without being taxed, a \$5000 TFSA trading account is
insufficient for trading with a commission of \$5 or higher. Thus, if
this is a taxed, non-registered trading account, the cost would be even
more. As such, not only is \$5000 an insufficient capital for a
Questrade TFSA trading account; \$5000 is simply too little money to
trade any trading account with \$5 of commission per trade for me.
Remember though, this cost-benefit analysis is based on my own
statistics. You can input your own parameters into <a href="http://spreadsheets.google.com/ccc?key=0AnZW_RfDqK11dG5jVzUwbDIxWEQ5aFV3cjVRdU5BbFE&amp;hl=en">this spreadsheet</a>
to get <strong>your own set of results</strong>. To be fair, I must clarify that the
problem isn't with Questrade. Even with their <a href="http://www.quantisan.com/questrade/">lowest trading commission
in Canada</a> (affiliate link), a \$5 trading commission for an account
of \$5000 is simply too much for me. Yes, there's nothing to stop you
from trading with a \$5 commission for a \$5000 account. Heck, many have
claimed to be successful with less than \$5000. However, that's just not
my style. I don't gamble with my hard earned money. I only trade when
the odds are in my favour. If the cost is un-proportionately high, it's
as if I've suffered a setback even before I begin fighting the battle.
As such, I'm going to say "no thanks!" to a Questrade TFSA trading
account for now. My short term plan is to look for a guaranteed TFSA
savings account until I can develop a trading system for Canadian stocks
that would justify the cost-benefit.</p> </div>
            <div class="abbr published">
                Posted  <a href='http://www.quantisan.com/is-a-5000-questrade-tfsa-trading-account-cost-effective-part-4/' title='2010-02-26T12:34:00'>26 February 2010</a> in <a href="http://www.quantisan.com/category/trading/">trading</a>.              
            </div>
        </article>
<p class="paginator">
		        <a href="http://www.quantisan.com/index30.html" class="button_accent">&larr;&nbsp;&nbsp;&nbsp;newer</a>

                    <a href="http://www.quantisan.com/index32.html" class="button_accent" style="position: absolute; right: 0;">continue&nbsp;&nbsp;&nbsp;&rarr;</a>
</p>
    </section>

<script type="text/javascript">
	var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
	</script>
	<script type="text/javascript">
		try {
			var pageTracker = _gat._getTracker("UA-2047602-4");
			pageTracker._trackPageview();
		} catch(err) {}</script>
</body>
</html>