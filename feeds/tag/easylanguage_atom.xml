<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Quantitative Artisan</title><link href="http://www.quantisan.com/" rel="alternate"></link><link href="http://www.quantisan.com/feeds/tag/easylanguage_atom.xml" rel="self"></link><id>http://www.quantisan.com/</id><updated>2010-02-08T13:38:00+00:00</updated><entry><title>Why I am not a big fan of MQL4 or trading platform scripting</title><link href="http://www.quantisan.com/why-i-am-not-a-big-fan-of-mql4-or-trading-platform-scripting/" rel="alternate"></link><updated>2010-02-08T13:38:00+00:00</updated><author><name>Paul Lam</name></author><id>tag:www.quantisan.com,2010-02-08:why-i-am-not-a-big-fan-of-mql4-or-trading-platform-scripting/</id><summary type="html">&lt;p&gt;I spent most of 2008 trading futures and developing automated systems on
Tradestation. The futures trading didn't turn out so well as I lost 40%
of my account and had to &lt;a href="http://www.quantisan.com/retirement-from-futures-trading-and-back-to-stocks/"&gt;call it quit&lt;/a&gt;. My quant development work on
the other hand, was coming along slow but steadily. However, since I
couldn't bear the monstrous maintenance fee anymore at &lt;a href="http://www.tradestation.com/"&gt;Tradestation&lt;/a&gt;,
I had to abandon that work. Then last year &lt;a href="http://www.quantisan.com/my-thoughts-and-goals-on-automated-trading-a-year-later/"&gt;when I wanted to pick up
where I left off&lt;/a&gt; on Matlab, I found that I couldn't just continue my
work. For one, I've lost most of my files. I think I left them in my
other computer in Hong Kong. Which is probably in a landfill by now.
Secondly, I didn't keep a thorough journal &lt;a href="http://www.quantisan.com/2008/"&gt;back then in 2008&lt;/a&gt; like
I'm doing now. Lastly, from the important files that I've kept, I didn't
bother to convert the codes because I might as well write new ones from
scratch than figure out what I did. The reason why I am reminiscing at
the moment is because I am finding myself in the same cycle again. As
regular readers may be aware, &lt;a href="http://www.quantisan.com/what-to-do-when-life-gets-in-your-way-of-trading/"&gt;recent events&lt;/a&gt; have accelerated my
quant projects schedule. I am experimenting with using Metatrader 4 for
my foreign exchange trading and scripting in MQL4 for automated trading.
Like Tradestation, &lt;a href="http://www.metaquotes.net/en/metatrader4"&gt;Metatrader 4&lt;/a&gt; is a trading platform with scripting
capabilities. Its programming language, MQL4, is a proprietary language
based on C. I took a few hours this weekend to learn it (as I'm familiar
with C already). So that I can start coding this week. However, after
giving it more thought, I've decided to scale down on my projects with
MQL4. I don't want to rely on a proprietary system for short-term
convenience. As trading programmers know, the language used is merely a
choice. Experience tells me that the bulk of development time is not
spent on the actual programming itself. Rather, much of the time is
spent on formulating, analyzing, and optimizing your algorithm. So I
might as well bite the bullet to build from scratch my automated trading
systems and quant analytics on one platform (i.e. on Python). That has
been my long term plan all along. Everything under one roof. But I
digressed. Then there's the issue of re-useability. Metatrader 4 is
forex-only and only works with brokers that support it. As such, I would
have to use something else for stock trading. Even for a forex-only
system, it would help if I can do intermarket analysis quantitatively.
That's not possible as far as I know with MQL4. Which is another major
downside for me. To summarize other reasons on how I came about this
decision, here are the advantages and disadvantages of using MQL4 versus
using a general programming language, such as Python or C++. The
advantages of using MQL4 are:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Saves A LOT of development time as it's already built for trading&lt;/li&gt;
&lt;li&gt;Charting, manual and automated trading on one platform&lt;/li&gt;
&lt;li&gt;Based on the popular C programming language&lt;/li&gt;
&lt;li&gt;Many forex traders use it&lt;/li&gt;
&lt;li&gt;Large repertoire of forex-specific programs&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Disadvantages of using MQL4.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Not for real quant analysis or data mining&lt;/li&gt;
&lt;li&gt;Limited to MT4-supported brokers&lt;/li&gt;
&lt;li&gt;Forex trading only&lt;/li&gt;
&lt;li&gt;Proprietary programming language&lt;/li&gt;
&lt;li&gt;Must run on Metatrader 4 client terminal&lt;/li&gt;
&lt;li&gt;MQL5 coming soon&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;This is certainly a tough choice. Judging by the huge user base, it's
evident that many people are satisfied with MQL4. Yet, as I've discussed
here, there are downsides to using it (besides technical matters). My
current plan remains the same as what I said in &lt;a href="http://www.quantisan.com/january-2010-trading-performance-review/"&gt;my last month's trading
review&lt;/a&gt;. That is, I will use MQL4 to plug holes in my trading system
for now before migrating to build my own system. In fact, I am already
brewing my first expert advisor starting today. Perhaps I might even
have something to post by the end of this week.&lt;/p&gt;
&lt;/p&gt;</summary><category term="EasyLanguage"></category><category term="MQL4"></category><category term="programming"></category></entry><entry><title>Departed TradeStation and going the Ninja Trader path</title><link href="http://www.quantisan.com/departed-tradestation-and-going-the-ninja-trader-path/" rel="alternate"></link><updated>2008-10-23T20:01:00+01:00</updated><author><name>Paul Lam</name></author><id>tag:www.quantisan.com,2008-10-23:departed-tradestation-and-going-the-ninja-trader-path/</id><summary type="html">&lt;p&gt;I have worked with &lt;a href="http://www.tradestation.com"&gt;TradeStation&lt;/a&gt; for a few months earlier this year.
During that time, I worked for a few hours every single day on
&lt;a href="http://www.quantisan.com/tag/easylanguage/"&gt;developing automated strategies&lt;/a&gt; and &lt;a href="http://www.quantisan.com/tag/day-trading/"&gt;day trading&lt;/a&gt; on it. I thought
TS was very good for use as a day trading platform. Particularly now
that I'm using ThinkOrSwim, I feel the TOS system is grossly inadequate
when compared to TS. However, I personally didn't like using TS as an
automated strategy development platform. EasyLanguage (TS's development
language) is definitely easy to learn and use. I would imagine EL would
meet the needs of many people and they'd be satisfied with it. On the
other hand, if you want to develop more complex strategies, the coding
can get complicated to the point of confusing, if it's even possible at
all. Like I never figured out how to build a simple neural net on it.
Besides the language, another limitation of TS is its inadequate API.
For example, and if I remember correctly, I had a hard time in the
programming trying to tie my portfolio value to the strategy. To
accomplish something simple like automatic portfolio balancing. Often
times, I wanted to do something but then found that I needed some
'work-arounds' instead. In essence, EasyLanguage is easy to get started,
but it certainly doesn't provide the depth which I wanted. Granted, it
was a great starting point for me in automated strategies development. I
learned a lot from it. Don't get me wrong though, a good strategy does
not mean a complicated strategy. One could have a profitable strategy
with just a few lines of code (moving averages, anyone?). What I want is
something that can serve as my creative sandbox. I wanted something that
can satisfy my wildest ideas. Actually, I just don't have sufficient
risk capital to let loose a strategy, so I have the luxury of not tasked
to yield results and is free to play with what I want. Including my
&lt;a href="http://www.quantisan.com/stanford-machine-learning-lectures-pomdp/"&gt;POMDP discussion in my previous post&lt;/a&gt;, and my other idea of using
modern control theory (my study focus back in the days) to identify
market inefficiencies. I couldn't have done those with EL without
over-complicating matters (DLL's, add-ons, etc.). The biggest factor
though, was the monthly subscription cost. I stopped my TS subscription
eventually because I just can't afford it. So what next? After some
digging, I came across &lt;a href="http://www.ninjatrader.com"&gt;Ninja Trader&lt;/a&gt;. They support C# programming in
their strategies. What's more, &lt;strong&gt;it's free&lt;/strong&gt; for development use! I will
be using it with opentick for a free datafeed. Free platform, free data!
What more could I ask for? &lt;strong&gt;Update:&lt;/strong&gt; It seems that opentick is
overloaded and haven't been taking on new users for a few months now.
I'll just use the simulated data within NT for now. &lt;strong&gt;Update 2009:&lt;/strong&gt;
Opentick is now closed until further notice according to them. I have
began going through the NT tutorials and trying to refresh my distant
memories on some technical topics. After a few months of vacation, I am
back to the drawing board again. We'll see how it goes. I will document
my progress here under the &lt;a href="http://www.quantisan.com/category/quantitative-finance/systems/"&gt;automated trading category&lt;/a&gt;.&lt;/p&gt;</summary><category term="EasyLanguage"></category></entry><entry><title>2MA w/ ADX and disappointing realization</title><link href="http://www.quantisan.com/2ma-w-adx-and-disappointing-realization/" rel="alternate"></link><updated>2008-01-08T23:50:00+00:00</updated><author><name>Paul Lam</name></author><id>tag:www.quantisan.com,2008-01-08:2ma-w-adx-and-disappointing-realization/</id><summary type="html">&lt;p&gt;Another day, another strategy. For the past couple of days, I've been
working on the 2MA cross with ADX confirmation strategy for ER2H08 1200
sh/bar. Basically, an HMA(Low, 8) crossing over EMA(Low, 24) as the
trigger. Condition2 is that the current high is highest of past 3 bars.
Condition3 is current ADX is also highest of the past 3 bars. Condition4
is that it is during day time so fewer slippage.&lt;/p&gt;
&lt;p&gt;Exit is simply HMA(Low, 23) crossing under EMA(Low, 33) or it is nearing
the close of the day session. Stop is \$350; Floor is \$500 and 63%
retracement.&lt;/p&gt;
&lt;p&gt;Upon loose optimization on Oct 1, 2007 to Nov 30, 2007 data, the Long
strategy achieved 3.37 profit factor, 57% profitable, and a steadily
rising performance graph. Very good indeed. I was estatic yesterday.&lt;/p&gt;
&lt;p&gt;I continued to work on the strategy for the whole day today and
developed a Short version using the same concept. The result were very
good too (PF &gt; 3, etc).&lt;/p&gt;
&lt;p&gt;From the back-testing data, the Long and Short together has PF over 2
and steady rising performance too. From the calculation, I would make
over \$7000 for the 2 months on 1 contract alone.&lt;/p&gt;
&lt;p&gt;Feeling pretty confident, I felt the system was somewhat complete, so I
tested it using the lastest 30 days of data. Unfortunately, it failed
miserably. PF was way under 1.0 and the gross profit were a mere couple
of thousand dollars. The net profit were estimated to be just a few
hundred dollars.&lt;/p&gt;
&lt;p&gt;So I tested the system on another set of data. August 2007. The result
was even worse!&lt;/p&gt;
&lt;p&gt;Long story short, I found out that ADX isn't that reliable to confirm
with major swings.&lt;/p&gt;</summary><category term="EasyLanguage"></category></entry><entry><title>Using new MA algorithm to rewrite old indicators</title><link href="http://www.quantisan.com/using-new-ma-algorithm-to-rewrite-old-indicators/" rel="alternate"></link><updated>2008-01-06T00:56:00+00:00</updated><author><name>Paul Lam</name></author><id>tag:www.quantisan.com,2008-01-06:using-new-ma-algorithm-to-rewrite-old-indicators/</id><summary type="html">&lt;p&gt;Seeing that many indicators use a MA for calculation. It may be possible
to use new MA algorithm to improve on their calculation.&lt;/p&gt;
&lt;p&gt;For example, the RS in RSI is something like RS = EMA(up days) /
EMA(down days). We could change it to RS = HMA(up days) / HMA(down
days). Since HMA is much faster, the resulting H-RSI may be faster too.
This can be useful in day trading strategies.&lt;/p&gt;
&lt;p&gt;More work needs to be done to test this idea.&lt;/p&gt;</summary><category term="EasyLanguage"></category><category term="indicator"></category></entry><entry><title>New moving average</title><link href="http://www.quantisan.com/new-moving-average/" rel="alternate"></link><updated>2008-01-06T00:49:00+00:00</updated><author><name>Paul Lam</name></author><id>tag:www.quantisan.com,2008-01-06:new-moving-average/</id><summary type="html">&lt;p&gt;I downloaded Hull Moving Average, Adaptive Moving Average, and a Kalmann
Filter today.&lt;/p&gt;
&lt;p&gt;In the figure, the blue/red is HMA(8), cyan is AMA(10), yellow is EMA(9)
as comparison.&lt;/p&gt;
&lt;p&gt;[&lt;img alt="" src="http://bp1.blogger.com/_Vlx60iTPx5s/R4EXOvY4uYI/AAAAAAAAAE0/APxlgKxuETU/s400/3mas.jpg" /&gt;][] Notice that HMA is super fast and follows the price closely.
AMA lags more but does a good job of smoothing outt the noise. EMA is as
usual and very laggy.&lt;/p&gt;
&lt;p&gt;A strategy I'm thinking of is to use 3 different MA's instead of only
EMA to improve the previously discussed 3EMA crossover strategy. The
problem with the 3 EMA crossover strategy is that EMA lags too much, so
it's not good for day trading so reaction time is the key to catching /
exiting the waves.&lt;/p&gt;
&lt;p&gt;Maybe using the HMA as the fast MA, AMA as the base, and something else
to verify the trend can work. As I've said before, remember to use
something to filter out the whipsaws. But don't use something laggy as
it would defeat the whole purpose of a fast indicator.&lt;/p&gt;
&lt;p&gt;Also, HMA can be used as a proxy to smooth out some inputs. i.e.
RSI(HMA(close, 8), 14) or HMA(RSI(close, 14), 8).&lt;/p&gt;
&lt;p&gt;[&lt;img alt="" src="http://bp1.blogger.com/_Vlx60iTPx5s/R4EXOvY4uYI/AAAAAAAAAE0/APxlgKxuETU/s400/3mas.jpg" /&gt;]: http://bp1.blogger.com/_Vlx60iTPx5s/R4EXOvY4uYI/AAAAAAAAAE0/APxlgKxuETU/s1600-h/3mas.jpg&lt;/p&gt;</summary><category term="EasyLanguage"></category><category term="indicator"></category></entry><entry><title>Filtering out the whipsaws</title><link href="http://www.quantisan.com/filtering-out-the-whipsaws/" rel="alternate"></link><updated>2008-01-04T23:55:00+00:00</updated><author><name>Paul Lam</name></author><id>tag:www.quantisan.com,2008-01-04:filtering-out-the-whipsaws/</id><summary type="html">&lt;p&gt;Whipsaws in pricing is the archilles' heel in trend following system. As
demonstrated by the previous 3 trading strategies, once the price is in
a narrow trading range, trend following systems would trigger many
erraneous trades to eat away the account.&lt;/p&gt;
&lt;p&gt;An idea I'm having is to use ADX to filter out some of these trades.
Either by comparing ADX to EMA(ADX)[1] or use DMI by ensuring + index &gt;
- index for long, for examples.&lt;/p&gt;
&lt;p&gt;I tested a Momentum(ADX) idea by using MyADX &gt; MyADX[10] as a condition
on the 3-EMA crossovers strategy as discussed today. It doesn't seem to
be doing much as the DMI values jump around. Perhaps employing the MACD
concept on ADX would yield some result.&lt;/p&gt;</summary><category term="EasyLanguage"></category></entry><entry><title>Comparing data point to EMA note</title><link href="http://www.quantisan.com/comparing-data-point-to-ema-note/" rel="alternate"></link><updated>2008-01-04T23:50:00+00:00</updated><author><name>Paul Lam</name></author><id>tag:www.quantisan.com,2008-01-04:comparing-data-point-to-ema-note/</id><summary type="html">&lt;p&gt;I have been using EMA comparison a lot lately. For example, if MyRSI &gt;
XAverage(MyRSI, MALength) then ... as a breakout indicator. However,
there might be a small problem.&lt;/p&gt;
&lt;p&gt;A better form might be to use "MyRSI &gt; XAverage(MyRSI, MALength)[1]"
Such that the current MyRSI isn't included in the XAverage calculation.
This would yield more difference since the EMA isn't "pulled" closer by
the current value to itself, as the latest data point has the most
significance in an EMA calculation.&lt;/p&gt;</summary><category term="EasyLanguage"></category></entry><entry><title>3EMA High Low Close crossover long strategy</title><link href="http://www.quantisan.com/3ema-high-low-close-crossover-long-strategy/" rel="alternate"></link><updated>2008-01-04T18:15:00+00:00</updated><author><name>Paul Lam</name></author><id>tag:www.quantisan.com,2008-01-04:3ema-high-low-close-crossover-long-strategy/</id><summary type="html">&lt;p&gt;Based on yesterday's trading strategy, I developed my own 3EMA crossover
strategy. Instead of only using the Close data. The high and low are
also used. Here's the idea.&lt;/p&gt;
&lt;p&gt;Condition1 = EmaLow crosses above EmaMedClose and EmaMedClose &gt;
EmaSlowClose; Condition2 = EmaMedClose crosses above EmaSlowClose and
EmaLow &gt; EmaSlowClose;&lt;/p&gt;
&lt;p&gt;Buy if Condition1 OR Condition2 is true.&lt;/p&gt;
&lt;p&gt;Sell if EmaHigh crosses below EmaMedClose OR EmaMedClose crosses below
EmaSlowClose OR EmaLow crosses below EmaSlowClose.&lt;/p&gt;
&lt;p&gt;EMA length are set to: FastHighLength(7), FastLowLength(7),
MedCloseLength(18), SlowCloseLength(30).&lt;/p&gt;
&lt;p&gt;The system does well to catch big breakouts. The 2 problems though is
that it is very laggy and the whipsaws in pricing are eating it alive.
See figure below.&lt;/p&gt;
&lt;p&gt;Also, notice that I'm using a 100 contracts / bar chart.&lt;/p&gt;
&lt;p&gt;&lt;img alt="graph" src="http://bp3.blogger.com/_Vlx60iTPx5s/R36xO_Y4uWI/AAAAAAAAAEk/cwu-8W10Ue8/s1600-h/3emastrategy.jpg" /&gt;&lt;/p&gt;</summary><category term="EasyLanguage"></category></entry><entry><title>3-MA crossovers, claimed 1.84 profit factor</title><link href="http://www.quantisan.com/3-ma-crossovers-claimed-184-profit-factor/" rel="alternate"></link><updated>2008-01-03T23:19:00+00:00</updated><author><name>Paul Lam</name></author><id>tag:www.quantisan.com,2008-01-03:3-ma-crossovers-claimed-184-profit-factor/</id><summary type="html">&lt;p&gt;Saw a forum post on TradeStation claiming 1.84 proft factor. The concept seems
interesting. Here is the code for later study. &lt;a href="https://www.tradestation.com/Discussions/Topic.aspx?Topic_ID=70059"&gt;Here is the link to the
post&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;[ IntraBarOrderGeneration = False ]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Inputs: EMAFastLength(4), EMAMedLength(5), EMASlowLength(22),
ValidBars(2);&lt;/p&gt;
&lt;p&gt;Variables: EMAFast(0), EMAMed(0), EMASlow(0), BuyHighAmt(0),
LSetUp(False), LSetCount(0);&lt;/p&gt;
&lt;p&gt;{ Calculation Section } EMAFast = XAverage(Close,EMAFastLength); EMAMed
= XAverage(Close,EMAMedLength); EMASlow = XAverage(Close,EMASlowLength);&lt;/p&gt;
&lt;p&gt;{ Define Entry SetUp Conditions } If EMAFast crosses above EMAMed and
EMAMed &gt; EMASlow then begin BuyHighAmt = High+ 1 point; LSetUp = True;
LSetCount = 1; end;&lt;/p&gt;
&lt;p&gt;If EMAMed crosses above EMASlow and EMAFast &gt; EMASlow then begin
BuyHighAmt = High + 1 point; LSetUp = True; LSetCount = 1; end;&lt;/p&gt;
&lt;p&gt;{ Entry SetUp is Valid - Make Long Entry if BuyHighAmt is reached } If
LSetUp and (TradesToday(Date) = 0 or (MarketPosition = 1 and
PositionProfit &gt; CurrentContracts*45)) Buy next bar at BuyHighAmt
stop;&lt;/p&gt;
&lt;p&gt;{ SetUp Failed or Long Entry Was Made - Reset Entry Conditions }
LSetCount = LSetCount + 1 ;&lt;/p&gt;
&lt;p&gt;//If LSetCount &gt; ValidBars or MarketPosition = 1 then {allows only one
entry} If LSetCount &gt; ValidBars or BarsSinceEntry \&amp;lt;= ValidBars then
{replace this line with above line to allows only one entries in the
same direction} begin BuyHighAmt = 9999; LSetUp = False; LSetCount = 0;
end; // end of code //&lt;/p&gt;</summary><category term="EasyLanguage"></category></entry><entry><title>Bollinger with multi-MACD system</title><link href="http://www.quantisan.com/bollinger-with-multi-macd-system/" rel="alternate"></link><updated>2008-01-02T19:40:00+00:00</updated><author><name>Paul Lam</name></author><id>tag:www.quantisan.com,2008-01-02:bollinger-with-multi-macd-system/</id><summary type="html">&lt;p&gt;&lt;a href="http://bp0.blogger.com/_Vlx60iTPx5s/R3wkWvY4uQI/AAAAAAAAADw/zJtA1-Q8bjE/s400/bbmacd_perfrpt_graph.jpg"&gt;&lt;/a&gt;This system for ZGG08 uses a Bollinger upper band breakout as the
first condition. Other conditions are data1 MACD (positive fast slope)
and data2 MACD (fast above slow) for bullish trend confirmation. It is
used on a 5 min and a 45 min chart.&lt;/p&gt;
&lt;p&gt;The long position is covered on 45 min MACD cross-below signal.&lt;/p&gt;
&lt;p&gt;Stop is set arbitrarily at \$180. Trailing stop is (\$400, 63%).&lt;/p&gt;
&lt;p&gt;The problem this Bollinger breakout system is that there is a likely
chance that the breakout is a sign of exhaustion. The accuracy of the
entry is merely \~44%. Although the multi-time frame MACD could confirm
the existing trend. Something needs to be done to identify possible
trend reversal at the Bollinger upper-band breakout.&lt;/p&gt;
&lt;p&gt;Although profit seems good for the 60 days back-test, the system
performance is not consistent as you can see from the graph below.
[&lt;img alt="" src="http://bp0.blogger.com/_Vlx60iTPx5s/R3wkWvY4uQI/AAAAAAAAADw/zJtA1-Q8bjE/s400/bbmacd_perfrpt_graph.jpg" /&gt;][]&lt;/p&gt;
&lt;p&gt;[&lt;img alt="" src="http://bp0.blogger.com/_Vlx60iTPx5s/R3wkWvY4uQI/AAAAAAAAADw/zJtA1-Q8bjE/s400/bbmacd_perfrpt_graph.jpg" /&gt;]: http://bp0.blogger.com/_Vlx60iTPx5s/R3wkWvY4uQI/AAAAAAAAADw/zJtA1-Q8bjE/s1600-h/bbmacd_perfrpt_graph.jpg&lt;/p&gt;</summary><category term="EasyLanguage"></category></entry></feed>