<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" type="text/css" href="http://www.quantisan.com/theme/css/style.css"> 
    <link rel="stylesheet" type="text/css" href="http://www.quantisan.com/theme/css/pygments.css">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:800,400,300|Inconsolata' rel='stylesheet' type='text/css'>
	<link href="http://www.quantisan.com/" type="application/atom+xml" rel="alternate" title="Quantitative Artisan ATOM Feed" />


        <title>Quantitative Artisan</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Paul Lam">
</head>

<body>
    <section id="navbar">
        <div class="user_meta">
            <h1 id="user"><a href="http://www.quantisan.com" class="">Paul Lam</a></h1>
            <h2>Data. Engineering. Startup.</h2>
        </div>
        <div class="nav-button">
            <ul>
                                    <li><a href="http://www.quantisan.com/about/">About</a></li>
                            <li><a href="mailto:paul@quantisan.com">Email</a></li>
                            <li><a href="http://www.twitter.com/Quantisan">Twitter</a></li>
                            <li><a href="http://www.github.com/Quantisan">Github</a></li>
                            <li><a href="http://www.linkedin.com/in/paullam">LinkedIn</a></li>
                            <li><a href="http://feeds.feedburner.com/Quantisan">Subscribe</a></li>
             </ul>
         </div>
     </section>

     <section id="sidebar">
        <div class="user_meta">
            <h1 id="user"><a href="http://www.quantisan.com" class="">Paul Lam</a></h1>
            <h2>Data. Engineering. Startup.</h2>
            <ul>
                        <li><a href="http://www.quantisan.com/about/">About</a></li>
                        <li><a href="mailto:paul@quantisan.com">Email</a></li>
                        <li><a href="http://www.twitter.com/Quantisan">Twitter</a></li>
                        <li><a href="http://www.github.com/Quantisan">Github</a></li>
                        <li><a href="http://www.linkedin.com/in/paullam">LinkedIn</a></li>
                        <li><a href="http://feeds.feedburner.com/Quantisan">Subscribe</a></li>
            </ul>
        </div>
        <footer>
            <address>
                Powered by <a href='http://docs.getpelican.com/en/latest/'>Pelican</a>,
                <a href='https://github.com/jamescooke/pelican-svbtle#readme'>theme info</a>.
            </address>
        </footer>
    </section>

    <section id="posts">
	
        <article class='listed'>
            <h1 class="title">
                <a href="http://www.quantisan.com/what-is-your-trading-process/" rel='bookmark'>What is your trading process?</a>
            </h1>
            <div class="article-content"> <p>Here is my discretionary trading process in a UML workflow diagram. How
does it compare to yours? [caption id="" align="aligncenter" width="476"
caption="My trading process workflow diagram"][<img alt="" src="http://www.quantisan.com/static/images/img_archive/2010-03-23-TradingProcess.png" />][][/caption]</p> </div>
            <div class="abbr published">
                Posted  <a href='http://www.quantisan.com/what-is-your-trading-process/' title='2010-03-24T07:48:00'>24 March 2010</a> in <a href="http://www.quantisan.com/category/trading/">trading</a>.              
            </div>
        </article>
        <article class='listed'>
            <h1 class="title">
                <a href="http://www.quantisan.com/from-object-oriented-programming-to-object-oriented-design/" rel='bookmark'>From Object Oriented Programming to Object Oriented Design</a>
            </h1>
            <div class="article-content"> <p>The good news is that I have finished my data scraping module for
extracting all the company data listed on the two Toronto Stock
Exchanges (TSX and TSV). I presented an <a href="http://www.quantisan.com/data-scraping-the-toronto-stock-exchange-extracting-3660-companies-data/">alpha version of this data
scraping module</a> last week. I added the functionality to download all
the historical quotes from Yahoo for all the companies. These data are
stored locally in a cool HDF5 format with PyTables. I am very happy
about that part. The bad news is that my module looks more like a hacked
job than a piece of software. There is no defined structure for my
underlying codes. It is obvious to me that this module would be
difficult to extend, which is the whole point of my project. In
programming jargon, my <a href="http://en.wikipedia.org/wiki/Code_smell">code smells</a> (Wikipedia). Then it finally
dawned on me. I am <em>way</em> behind in my programming skills. For the past
few years, my quant work has been confined to <a href="http://www.quantisan.com/starting-to-use-matlab-for-quantitative-finance/">MatLab</a> or some
<a href="http://www.quantisan.com/4-automated-trading-development-platforms-for-beginner-to-advanced-traders/">proprietary trading platforms</a>. I wrote scripts. Not programs. My
problem with programming is that I am still stuck in a procedural
programming mentality because that is what I've always used. Even though
I updated my knowledge recently by learning Python, learning to program
with an object oriented programming language is only the first step. (I
am also familiar with C++ and Java from way back) To use an analogy,
programming a software is like constructing a building. The actual
coding itself is akin to the construction work. I got that part. But
coding without a well designed plan can only go so far. It is now clear
to me that if I am to build the trading software to complement my
trading as I have envisioned it, I need to step it up with my <em>software
design</em> ability. Consequently, I am now catching up on object oriented
design and analysis, as well as software design patterns with a couple
of books. I will try not to get too carried away with these though. My
main focus is trading. But this will be very beneficial for my trading
in the long run if I can build a more robust trading software that can
easily grow with my future needs. I have many big plans for this side
project of mine. I posted a UML diagram showing an <a href="http://www.quantisan.com/what-is-your-trading-process/">architectural
overview of my project</a>.</p> </div>
            <div class="abbr published">
                Posted  <a href='http://www.quantisan.com/from-object-oriented-programming-to-object-oriented-design/' title='2010-03-22T07:22:00'>22 March 2010</a> in <a href="http://www.quantisan.com/category/algorithmic-trading/">algorithmic-trading</a>.              
            </div>
        </article>
        <article class='listed'>
            <h1 class="title">
                <a href="http://www.quantisan.com/how-greece-bailout-is-affecting-the-canadian-markets/" rel='bookmark'>How Greece bailout is affecting the Canadian markets</a>
            </h1>
            <div class="article-content"> <p>Parity, parity, parity. That's all I hear about in Canada these days.
The <a href="http://www.businessweek.com/news/2010-03-13/loonie-approaches-parity-on-bets-central-bank-to-increase-rates.html">media is saying</a> (Businessweek) that the strength in loonie is
due to a higher than expected inflation data and so a possible rise in
our interest rate by the Bank of Canada this year is in the cards. But
that's just part of the story. As I was saying in my previous post,
<a href="http://www.quantisan.com/why-should-i-care-about-other-markets-if-i-only-trade-___/">markets don't operate in a vacuum</a>. The biggest news so far this year
on the global economy is the Greece bailout. Or more specifically, <a href="http://blogs.wsj.com/brussels/2010/03/18/is-there-a-greece-bailout/">is
there a bailout</a> (WSJ) and <em>by whom</em>? Greece is the 27th biggest
economy according to Wikipedia. Their GDP is 24% of Canada's. They are
by no means a small country. A default of this magnitude would have a
domino effect on the weak PIGS (Portugal, Ireland/Italy, Greece and
Spain) countries and beyond. Traders will lose confidence if Greece is
not saved. Then everyone will unload their holdings in those PIGS
countries and massive selling will drive their markets even further
down. A vicious cycle of downward spiral is thus formed in the short
term. Given that even a small time trader such as myself is aware of the
grim consequence, it is likely that Greece will be saved. So the next
question is, by whom? That is the big question which is still up in the
air and fiercely debated this month. The two candidates are the European
Central Bank (ECB) and the International Monetary Fund (IMF). As far as
we know, the ECB doesn't seem to want to take the burden upon itself.
The European Union isn't doing exactly well lately, in case you haven't
noticed. Its best performing country, Germany, doesn't want to penalize
their hardworking taxpayers for <a href="https://www.cia.gov/library/publications/the-world-factbook/docs/notesanddefs.html?countryName=Greece&amp;countryCode=gr&amp;regionCode=eu#2116">the mistakes of Greece</a> (CIA World
Factbook). So that leaves the IMF, the last line of defense for troubled
economies. If the IMF bails out Greece, that means the United States is
on the hook too as they are the biggest economy and backer of the IMF.
Europe's problem will become an American problem too. More bailouts for
the U.S. means more spending. Having spent <a href="http://www.usdebtclock.org/">trillions already pumping up
the financial markets</a> (U.S. debt clock) in the past couple of years,
this would tank the U.S. dollar into the abyss. Likewise, if the ECB
confirms that they will contain the problem and that IMF isn't involved.
The Euros will tank and the dollar will rise. But that's just guess work
for now. The one thing that's for sure is that a massive amount of money
will be spent to save Greece. Excessive money means inflation and higher
cost of commodities in the long run. Seeing that the Canadian market is
heavily commodity-related and that our loonie is even known as a
commodity currency, that is the reason behind why inflation is rising
fast and our economy is being propped up. Not necessarily because we are
doing terrific, but because we are sitting on a pile of gold and oil.
Real, tangible wealth in any kind of economy.</p> </div>
            <div class="abbr published">
                Posted  <a href='http://www.quantisan.com/how-greece-bailout-is-affecting-the-canadian-markets/' title='2010-03-18T09:44:00'>18 March 2010</a> in <a href="http://www.quantisan.com/category/stocks/">stocks</a>.              
            </div>
        </article>
        <article class='listed'>
            <h1 class="title">
                <a href="http://www.quantisan.com/why-should-i-care-about-other-markets-if-i-only-trade-___/" rel='bookmark'>Why should I care about other markets if I only trade ___?</a>
            </h1>
            <div class="article-content"> <p>A benefit of having traded different markets and instruments is that I
have gained different perspectives on the capital markets. I realize
that all markets are ultimately related. Rather it is fundamental,
technical, or quantitative analysis, traders are essentially analyzing
the supply and demand of the instrument that they are trading. But
supply and demand is influenced solely by money flow in the capital
markets. As such, it is the dynamics of money flow that drives the
movement of something as big as EUR/USD or as small as a penny stock.
Secondly, money do not appear out of thin air or do they evaporate.
Money moving out of one thing end up somewhere else, and vice versa.
Consider a dollar in your wallet. Where does it come from? Where will it
go? You probably have a good idea of that yourself. Similarly, money
moving in and out of a stock comes from somewhere and go somewhere too.
That somewhere can be as close as the next stock in that same exchange.
Or, it can be moved to another market (e.g. bonds or commodities)
entirely. This happens more often than I used to think because this is
how the institutions and the pros play. They don't limit themselves to
any particular exchange or any market. They simply go where the money
is. As you can see through this simplistic mental exercise,</p>
<ol>
<li>money flow is the only driver of prices</li>
<li>money has to come from somewhere and go somewhere</li>
</ol>
<p>That is the reason why I say all markets are related. It is also the
reason why even if you trade a local or a specialized market, it is
essential that you are at least aware of what's happening around. Not
doing so is just willingly ignoring a large part of valuable data. Bill
Cara has a saying that "markets do not operate in a vacuum". In his
<a href="http://caracommunity.com/content/week-review-11-2010-2">weekly review on March 14, 2010</a>,</p>
<blockquote>
<p>Global equity markets do not trade in a vacuum. It is important to be
watching these markets move through a trend juncture together, pushed
and pulled by global currency and commodity strength or weakness as
well as local and regional economic forces.</p>
</blockquote>
<p>I like to visualize the capital markets (stocks, commodities, forex,
etc.) as an interconnected web. Granted, some points are connected more
than others. But push or pull on any point and you can see the effect
throughout the web. One practical use of this concept in trading is that
if one market is moving up or down, you can observe its impact on the
global financial web to estimate (using historical patterns or some
blackbox model) will that move pick up momentum or will it retrace back
to where it was. This is the essence of intermarket analysis.</p>
</p> </div>
            <div class="abbr published">
                Posted  <a href='http://www.quantisan.com/why-should-i-care-about-other-markets-if-i-only-trade-___/' title='2010-03-17T07:23:00'>17 March 2010</a> in <a href="http://www.quantisan.com/category/trading/">trading</a>.              
            </div>
        </article>
        <article class='listed'>
            <h1 class="title">
                <a href="http://www.quantisan.com/a-sign-that-you-are-truly-enjoying-what-you-do/" rel='bookmark'>A sign that you are truly enjoying what you do</a>
            </h1>
            <div class="article-content"> <p>When was the last time that you were working on something and you were
so immersed in it that you have forgotten about the hours that gone by?
That feeling of timelessness while doing something for hours. Not the
type that you're stressed and feel that you don't have enough time to do
a job. I am talking about the other kind of feeling. The positive one.
The feeling that is serene and content. If you know what I'm talking
about, then congratulations! You have found what you're born to do.
There are a handful of activities that I am passionate about. I
sometimes get that zen-like feeling when I am cycling through a mountain
path or snowboarding down a hill. But what I truly like to do is problem
solving. In particular, I find that programming quantitative trading
systems is a perfect outlet for this side of my personality. Programming
is one of the few ways in which you can create something out of nothing.
Very much like a composer or a poet. But unlike those trades, you can
solve practical problems with just your sheer mental capacity by
programming your thoughts into codes. To problem solve, you also need a
source of inspiration. And what better field can there be than the
capital markets. It is basically an ever-changing chess game in which
you are playing against the entire world. Talk about setting a bar high.
As you may have read, I've run into a few <a href="http://www.quantisan.com/what-to-do-when-life-gets-in-your-way-of-trading/">obstacles with my trading</a>
lately. I need to develop a new trading program to let me regain my
edge. So I got up early this Saturday to program <a href="http://www.quantisan.com/data-scraping-the-toronto-stock-exchange-extracting-3660-companies-data/">my new trading software</a>. Next thing I know, it was 4pm already. It was a blissful
day. And that, is my reason for wanting to trade for a living.</p> </div>
            <div class="abbr published">
                Posted  <a href='http://www.quantisan.com/a-sign-that-you-are-truly-enjoying-what-you-do/' title='2010-03-15T07:10:00'>15 March 2010</a> in <a href="http://www.quantisan.com/category/journal/">journal</a>.              
            </div>
        </article>
        <article class='listed'>
            <h1 class="title">
                <a href="http://www.quantisan.com/data-scraping-the-toronto-stock-exchange-extracting-3660-companies-data/" rel='bookmark'>Data Scraping the Toronto Stock Exchange: Extracting 3,660 companies&#039; data</a>
            </h1>
            <div class="article-content"> <p>One of the tasks that I've always wanted to make more efficient in my
stock trading is the work of scanning for stocks to trade. One look at
my <a href="http://www.quantisan.com/category/trading-how-tos/trading-strategy/">trading strategy posts</a> and you'll see that I have devised many
stock scanning systems in the past few years. The most recent system
that I've used is one that uses <a href="http://www.quantisan.com/week-of-sept-13-2009-in-play-stocks-breakout-results/">options data to filter stocks</a>.
However, it is not automated. So it takes a lot of time to gather and
analyze the data. Furthermore, the set of tools that I use is limited to
U.S. stocks. Now that I have taken an interest in the Canadian stock
market, I can't seem to find any public tool that I like. Thus, I am
biting the bullet now and taking my time to develop a custom system once
and for all. Before we can analyze stock data, we need to extract them
first. Where better else for that than go straight to the source at
TMX.com, the parent company of Toronto Stock Exchange (TSX) and TSX
Venture Exchange (TSXV). TMX.com provide a list of publicly traded
companies in ten Excel files. The files are divided by sectors. Each
contain a number of fundamental company data, such as market
capitalization and outstanding shares. So step 1 is to extract those
data. This is where I am at now. I attached the source code for an
alpha/developmental release below for anyone interested. It is a working
program to scrape the data from TMX.com's files. But it's still a
work-in-progress. That's why I am calling it a version 0.1. The next
milestone is to program a Stocks class to hold, organize, and manage all
three thousand, six hundred, and sixty companies' data. This is an easy
task to do by extending the built-in dictionary class in Python.
However, I haven't gotten to that chapter yet in my scientific
programming with Python learning book. I stopped at chapter 8 to work on
this project. Chapter 9 is the inheritence and hierarchical material.
The goal of this project is to build an automated data scraping program
for TSX and TSXV data from various sources into my computer. Once I have
my data, that's when the real fun starts. Regarding the code below, I
know that source code is useless for most people. Once the project is
complete, I will compile the code into a standalone application and post
it on this site. <a href="http://www.quantisan.com/feed/">Subscribe to my RSS feed</a> so that you can keep
up-to-date with the progress of this project and my other ramblings on
trading. [python] # extractTMX.py # version: 0.1 alpha release #
revision date: March, 2010 # by Paul, Quantisan.com """A data scraping
module to extract company listing excel files from TMX.COM""" import
xlrd # to read Excel file #import sys from finClasses import Stock #
custom Stock class def _verify(): """Verification function for a
rundown of the module""" pass # copy test block here when finished def
findCol(sheet, key): """Find the column corresponding to header string
'key'""" firstRow = sheet.row_values(0) for col in
range(len(firstRow)): if key in firstRow[col]: return col # return
first sighting else: # not found raise ValueError("%s is not found!" %
key) def scrapeXLS(book): """Data scraping function for TMX Excel
file""" listingDict = {} # dict of ('ticker': market cap) for index in
range(book.nsheets): sh = book.sheet_by_index(index) mcCol =
findCol(sh, "Market Value") assert type(mcCol) is int, "mcCol is a %s" %
type(mcCol) osCol = findCol(sh, "O/S Shares") assert type(osCol) is int,
"osCol is a %s" % type(osCol) secCol = findCol(sh, "Sector") # multiple
matches but taking first assert type(secCol) is int, "secCol is a %s" %
type(secCol) hqCol = findCol(sh, "HQ\nRegion") assert type(hqCol) is
int, "hqCol is a %s" % type(hqCol) for rx in range(1, sh.nrows): sym =
str(sh.cell_value(rowx=rx, colx=4)) # symbol s =
sh.cell_value(rowx=rx, colx=2) # exchange col. if s == "TSX": exch =
"T" elif s == "TSXV": exch = "V" else: raise TypeError("Unknown exchange
value") mc = sh.cell_value(rowx=rx, colx=mcCol) # market cap # check
for empty market cap cell mc = int(mc) if type(mc) is float else 0 os =
int(sh.cell_value(rowx=rx, colx=osCol)) # O/S shares sec =
str(sh.cell_value(rowx=rx, colx=secCol)) # sector hq =
str(sh.cell_value(rowx=rx, colx=hqCol)) # HQ region listingDict[sym] =
Stock(symbol=sym,exchange=exch, mktCap=mc,osShares=os,
sector=sec,hqRegion=hq) return listingDict def fetchFiles(fname): infile
= open(fname, 'r') # text file of XLS file names listing = {} for line
in infile: # 1 file name per line if line[0] == '#': continue # skip
commented lines line = line.strip() # strip trailing \n print "Reading
'%s' ..." % line xlsFile = "TMX/" + line # in TMX directory book =
xlrd.open_workbook(xlsFile) # import Excel file
listing.update(scrapeXLS(book)) # append scraped the data to dict
return listing #if __name__ == '__main__': # verify block #
if len(sys.argv) == 2 and sys.argv[1] == 'verify': # _verify() if
__name__ == '__main__': # test block listing =
fetchFiles('TMX/TMXfiles.txt') [/python]</p> </div>
            <div class="abbr published">
                Posted  <a href='http://www.quantisan.com/data-scraping-the-toronto-stock-exchange-extracting-3660-companies-data/' title='2010-03-11T07:29:00'>11 March 2010</a> in <a href="http://www.quantisan.com/category/algorithmic-trading/">algorithmic-trading</a>.              
            </div>
        </article>
<p class="paginator">
		        <a href="http://www.quantisan.com/index29.html" class="button_accent">&larr;&nbsp;&nbsp;&nbsp;newer</a>

                    <a href="http://www.quantisan.com/index31.html" class="button_accent" style="position: absolute; right: 0;">continue&nbsp;&nbsp;&nbsp;&rarr;</a>
</p>
    </section>

<script type="text/javascript">
	var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
	</script>
	<script type="text/javascript">
		try {
			var pageTracker = _gat._getTracker("UA-2047602-4");
			pageTracker._trackPageview();
		} catch(err) {}</script>
</body>
</html>